webpackJsonp([5],{471:function(t,e,a){function n(t){a(499)}var r=a(165)(a(481),a(507),n,"data-v-42bba70c",null);t.exports=r.exports},481:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){var t=this;return{value1:[],data:[{value:"first",label:"1-31",children:[{value:"gugong",label:"故宫"},{value:"tiantan",label:"天坛"},{value:"wangfujing",label:"王府井"}]},{value:"second",label:"32-61",children:[{value:"nanjing",label:"南京"},{value:"suzhou",label:"苏州"}]},{value:"third",label:"62-91",children:[{value:"nanjing1",label:"南京"},{value:"suzhou2",label:"苏州"}]}],columns1:[{title:"sale_nbr",key:"sale_nbr"},{title:"cnt",key:"cnt",sortable:!0},{title:"round",key:"round",sortable:!0},{title:"in_degree",key:"in_degree",sortable:!0},{title:"out_degree",key:"out_degree",sortable:!0},{title:"PageRank",key:"PageRank",sortable:!0},{title:"操作",key:"edit",render:function(e,a){return e("div",[e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.show(a.index)}}},"查看"),e("Button",{props:{type:"info",size:"small",icon:"stats-bars"},on:{click:function(){t.$router.push({name:"saleShow",params:{id:""+t.data1[a.index].sale_nbr}})}}},"详情")])}}],data1:[],result:[],msg:"Welcome to Your Vue.js App"}},mounted:function(){this.drawLine("cnt"),this.drawLines("cnt")},methods:{fuck:function(t){this.drawLine(t),this.drawLines(t)},drawLine:function(t){var e=this;this.$http.get("/degree",{params:{type:t}}).then(function(t){e.result=t.data,e.data1=[];for(var a in e.result.sale_nbr){var n={sale_nbr:a,cnt:e.result.sale_nbr[a].cnt,round:e.result.sale_nbr[a].round,in_degree:e.result.sale_nbr[a].in_degree,out_degree:e.result.sale_nbr[a].out_degree,PageRank:e.result.sale_nbr[a].page_rank};e.data1.push(n)}})},drawLines:function(t){var e=this;this.$http.get("/sum",{params:{type:t}}).then(function(a){var n=a.data;e.$echarts.init(document.getElementById("myChart")).setOption({title:{text:"机票市场走势图"},tooltip:{trigger:"axis"},xAxis:{data:n.map(function(t){return t[0]})},yAxis:{splitLine:{show:!1}},toolbox:{left:"center",feature:{dataZoom:{yAxisIndex:"none"},restore:{},saveAsImage:{}}},dataZoom:[{startValue:"81"},{type:"inside"}],series:{name:t,type:"line",data:n.map(function(t){return t[1]})}})})},show:function(t){this.$Modal.info({title:"代理人信息",content:"sale_nbr："+this.data1[t].sale_nbr+"<br>cnt："+this.data1[t].cnt+"<br>round："+this.data1[t].round+"<br>in_degree："+this.data1[t].in_degree+"<br>out_degree："+this.data1[t].out_degree+"<br>page_rank："+this.data1[t].PageRank})},exportData:function(t){1===t?this.$refs.table.exportCsv({filename:"原始数据"}):2===t&&this.$refs.table.exportCsv({filename:"排序和过滤后的数据",original:!1})}}}},493:function(t,e,a){e=t.exports=a(469)(!0),e.push([t.i,"#select-type[data-v-42bba70c]{margin:10px 0}","",{version:3,sources:["C:/Users/Administrator/Desktop/FlaskApp/src/components/Home.vue"],names:[],mappings:"AACA,8BACE,aAAe,CAChB",file:"Home.vue",sourcesContent:["\n#select-type[data-v-42bba70c] {\n  margin: 10px 0;\n}\n"],sourceRoot:""}])},499:function(t,e,a){var n=a(493);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(470)("30420ff4",n,!0)},507:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Card",[a("div",[a("Row",[a("Col",{attrs:{span:"4",offset:"1"}},[a("Card",{staticStyle:{background:"#F05050"},attrs:{bordered:!1}},[a("h3",[a("Icon",{attrs:{type:"ribbon-b"}}),t._v("销售量")],1),t._v(" "),a("h4",[t._v(t._s(t.result.cnt))])])],1),t._v(" "),a("Col",{attrs:{span:"4",offset:"2"}},[a("Card",{staticStyle:{background:"#7266ba"},attrs:{bordered:!1}},[a("h3",[a("Icon",{attrs:{type:"social-yen"}}),t._v("销售额")],1),t._v(" "),a("h4",[t._v(t._s(t.result.round))])])],1),t._v(" "),a("Col",{attrs:{span:"4",offset:"2"}},[a("Card",{staticStyle:{background:"#23b7e5"},attrs:{bordered:!1}},[a("h3",[a("Icon",{attrs:{type:"ios-pricetag"}}),t._v("平均销售量")],1),t._v(" "),a("h4",[t._v(t._s(Number(t.result.cnt)/91))])])],1),t._v(" "),a("Col",{attrs:{span:"4",offset:"2"}},[a("Card",{staticStyle:{background:"#27C24C"},attrs:{bordered:!1}},[a("h3",[a("Icon",{attrs:{type:"pie-graph"}}),t._v("平均销售额")],1),t._v(" "),a("h4",[t._v(t._s(Number(t.result.round)/91))])])],1)],1)],1)]),t._v(" "),a("Row",[a("Col",{attrs:{span:"12",id:"select-type"}},[a("Dropdown",{staticStyle:{"margin-left":"20px"},on:{"on-click":t.fuck}},[a("Button",{attrs:{type:"primary"}},[t._v("选择属性"),a("Icon",{attrs:{type:"arrow-down-b"}})],1),t._v(" "),a("Dropdown-menu",{slot:"list"},[a("Dropdown-item",{attrs:{name:"cnt"}},[t._v("销售量")]),t._v(" "),a("Dropdown-item",{attrs:{name:"round"}},[t._v("销售额")]),t._v(" "),a("Dropdown-item",{attrs:{name:"outDegree"}},[t._v("出度")]),t._v(" "),a("Dropdown-item",{attrs:{name:"inDegree"}},[t._v("入度")]),t._v(" "),a("Dropdown-item",{attrs:{name:"pageRank"}},[t._v("PageRank")])],1)],1)],1)],1),t._v(" "),a("Row",[a("Col",{attrs:{span:"24",id:"select-type"}},[a("Card",[a("div",{style:{height:"300px"},attrs:{id:"myChart"}})])],1)],1),t._v(" "),a("Table",{ref:"table",attrs:{columns:t.columns1,data:t.data1}}),t._v(" "),a("br"),t._v(" "),a("Button",{attrs:{type:"primary",size:"large"},on:{click:function(e){t.exportData(1)}}},[a("Icon",{attrs:{type:"ios-download-outline"}}),t._v(" 导出原始数据")],1),t._v(" "),a("Button",{attrs:{type:"primary",size:"large"},on:{click:function(e){t.exportData(2)}}},[a("Icon",{attrs:{type:"ios-download-outline"}}),t._v(" 导出排序和过滤后的数据")],1),t._v(" "),a("Back-top")],1)},staticRenderFns:[]}}});
//# sourceMappingURL=5.16ba1f8b2346f0fecd0b.js.map