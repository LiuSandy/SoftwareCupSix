webpackJsonp([3],{475:function(t,e,a){function n(t){a(497)}var r=a(165)(a(484),a(503),n,"data-v-167af42e",null);t.exports=r.exports},484:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){var t=this;return{cascader:[{value:"first",label:"1-31",children:[]},{value:"second",label:"32-61",children:[]},{value:"third",label:"62-91",children:[]}],formItem:{input:"",select:[]},columns1:[{title:"day_id",key:"day_id"},{title:"sale_nbr",key:"sale_nbr"},{title:"buy_nbr",key:"buy_nbr"},{title:"cnt",key:"cnt"},{title:"round",key:"round"},{title:"操作",key:"action",width:150,align:"center",render:function(e,a){return e("div",[e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.show(a.index)}}},"查看")])}}],data1:[],allData:[],total:""}},mounted:function(){var t=1;this.cascader.forEach(function(e){var a=1,n=31;for(1===t&&(a=1,n=31),2===t&&(a=32,n=61),3===t&&(a=62,n=91),a;a<=n;a++){var r={value:a,label:a};e.children.push(r)}t++})},methods:{submit:function(t){var e=this,a=t.input,n=t.select[1];console.log(a),console.log(n),this.$http.get("/search/"+a+"/"+n).then(function(t){var a=t.data;0===a.day_id.length&&e.$Modal.error({content:"没有与之相关的交易记录"}),e.total=a.day_id.length,e.allData=[];for(var n=[],r=0;r<a.day_id.length;r++){var o={day_id:a.day_id[r],sale_nbr:a.sale_nbr[r],buy_nbr:a.buy_nbr[r],cnt:a.cnt[r],round:a.round[r]};n.push(o)}for(var i=window._.chunk(n,10),l=0;l<i.length;l++)e.allData.push(i[l]);e.data1=e.allData[0]})},exportData:function(t){console.log(t),1===t?this.$refs.table.exportCsv({filename:"原始数据"}):2===t&&this.$refs.table.exportCsv({filename:"排序和过滤后的数据",original:!1})},changePage:function(t){this.allData.length>=t&&(this.data1=this.allData[t-1]),console.log("当前页码"+t)},show:function(t){this.$Modal.info({title:"销售信息",content:"day_id："+this.data1[t].day_id+"<br>sale_nbr："+this.data1[t].sale_nbr+"<br>buy_nbr："+this.data1[t].buy_nbr+"<br>cnt："+this.data1[t].cnt+"<br>round："+this.data1[t].round})}}}},491:function(t,e,a){e=t.exports=a(469)(!0),e.push([t.i,".body[data-v-167af42e]{min-height:500px}","",{version:3,sources:["C:/Users/Administrator/Desktop/FlaskApp/src/components/history.vue"],names:[],mappings:"AACA,uBACE,gBAAkB,CACnB",file:"history.vue",sourcesContent:["\n.body[data-v-167af42e]{\r\n  min-height: 500px;\n}\r\n"],sourceRoot:""}])},497:function(t,e,a){var n=a(491);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(470)("5de7eac4",n,!0)},503:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"body"},[a("Form",{attrs:{model:t.formItem,"label-width":80}},[a("Form-item",{attrs:{label:"代理人代码"}},[a("Input",{attrs:{placeholder:"请输入"},model:{value:t.formItem.input,callback:function(e){t.formItem.input=e},expression:"formItem.input"}})],1),t._v(" "),a("Form-item",{attrs:{label:"day_id"}},[a("Cascader",{attrs:{data:t.cascader,placeholder:"请选择"},model:{value:t.formItem.select,callback:function(e){t.formItem.select=e},expression:"formItem.select"}})],1),t._v(" "),a("Form-item",[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.submit(t.formItem)}}},[t._v("提交")]),t._v(" "),a("Button",{staticStyle:{"margin-left":"8px"},attrs:{type:"ghost"}},[t._v("取消")])],1)],1),t._v(" "),a("br"),t._v(" "),a("Table",{ref:"table",attrs:{columns:t.columns1,data:t.data1}}),t._v(" "),a("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[a("Button",{attrs:{type:"primary",size:"large"},on:{click:function(e){t.exportData(1)}}},[a("Icon",{attrs:{type:"ios-download-outline"}}),t._v(" 导出原始数据")],1),t._v(" "),a("Button",{attrs:{type:"primary",size:"large"},on:{click:function(e){t.exportData(2)}}},[a("Icon",{attrs:{type:"ios-download-outline"}}),t._v(" 导出排序和过滤后的数据")],1),t._v(" "),a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{total:Number(t.total),current:1},on:{"on-change":t.changePage}})],1)],1),t._v(" "),a("br")],1)},staticRenderFns:[]}}});
//# sourceMappingURL=3.004f85d24e95f1b55409.js.map